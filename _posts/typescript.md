---
slug: typescript
title: Typescript
description: Javascript програмчлалыг дараагийн түвшинд гаргасан хэл
date: '2021-07-11'
---

# Typescript
Typescript хэлийг анх Microsoft-оос санаачлан гаргасан бөгөөд 2012 онд нийтэд танилцуулсанаас хойш одоо хүртэл идэвхитэй open-source лицензийн дор хөгжүүлж байна. Одоогоор хамгийн сүүлийн хувилбар 4.2. Албан [веб хуудас руу нь зочлох](https://www.typescriptlang.org/).

## Яагаад Typescript гэж?
Анх үүсгэсэн шалтгаан нь веб, мобайл хэрэглээ асар хурдтай өсөж байгааг даган хөгжүүлэлтийн шинэ технологиуд гарч ирж байгаа ч веб програмчлалын ганц гол хэл болох Javascript бий болж байгаа томоохон шаардлагуудыг хангахгүй байсан ба өөр хэлээр орлуулах бараг боломжгүй болтлоо өргөн ашиглагдах болсон байв. Үүний нэг шийдэл нь Javascript-ийг бүрэн агуулсан, мөн үүн дээр олон боломж нэмж өртгөсөн шинэ хэлийг үүсгэсэн явдал байв. 

>**Type гэж юу вэ**  
>Type буюу төрөл нь өгөгдөл/мэдээллийг төрөлжүүлэн ангилах гэж оролдсон хийсвэрлэл юм, товчхондоо өгөгдлийн бүтэц.  


## Давуу тал
Typescript-ийн гол давуу тал нь Javascript-д **type system** нэвтрүүлсэнд байдаг бөгөөд үүнийг нь ч өөрийнх нь нэр нь илэрхийлж байгаа юм. Яагаад энэ нь давуу тал болж байгааг тоочвол: 
- **Алдаанаас сэргийлэх**: Илэрхий тодорхойлогдсон төрлүүдийг ашиглан хөгжүүлэгч ямар мэдээлэл түүгээр дамжиж ирэх, дээр нь ямар үйлдэл хийх зэргийг хөгжүүлэлтийн явцад бүрэн мэдэх боломжтой тул ажиллуулах үед гарах болзошгүй олон алдаанаас сэргийлэхэд тусалдаг
- **Өндөр бүтээмж**: Хөгжүүлэлтийн IDE түүлүүд энэ эхнээсээ тодорхойлогдсон төрлүүдийн мэдээллийг ашиглан автоматаар бичиглэлийг гүйцээх, оновчтойгоор сонголтуудыг санал болгох мөн бичиглэлийн алдаануудыг дор бүр нь харуулдаг. Энэ нь хөгжүүлэгчийн бүтээмжийг өндөрсгөдөг.
- **Багийн ажиллагаа**: Хатуу тодорхойлогдсон төрөлтэй хэл дээр бичигдсэн бусдын кодийг ойлгоход харьцангуй хялбар байдаг учир олон хөгжүүлэгчид зэрэг ажиллаж буй төслүүд дээр нэгнийхээ кодыг засварлах, нэмж өргөтгөх зэрэг үйлдлүүдийг хийх нь дан javascript дээрх төслүүдээс илүү хялбар байдаг. 

### Жишээ 1
Жаваскрипт дээр доорхи бичиглэл бүрэн боломжтой бөгөөд асуудалгүй ажиллана. 
```js
var age = 12;
age = "12"
```
Харин өөр нэг нь үүнийг шалгалгүйгээр дараах байдлуудаар үргэлжлүүлэн бичээд ажиллуулахад санаанд оромгүй алдаанууд гарах болно. 
```js
age + 1;    // "121"
age()       // TypeError: age is not a function
```
Харин typescipt дээр эдгээр бичиглэлийг ажиллуулахаас өмнө алдааны мэдээллийг гаргаж сануулдаг
```ts
var age = 12;
age = "12"  // Error: string is not assignable to number
age()       // Error: not callable
```

### Жишээ 2
Доорхи кодыг javascript дээр ажиллуулахад `undefined` утга хэвлэх бол typescript дээр уг мөрөн дээр алдаа заана. 
```js
const car = {
    model: "Kia",
    year: 2021
}
// javascript => undefined
// typescript => Error: property 'price' doesn't exist on the type
console.log(car.price)
```

## Basic types
 Хувьсагчийг зарлахдаа заавал харгалзах төрлийг тодорхойлох ёстой. Бусад олон хэлний бичиглэлээс ялгаатай нь хувьсагчийн төрлийг хувьсагчийн нэрний араас тодорхойлох цэг тавьсны дараа тодорхойлж бичнэ.

 `const <хувьсагчийн нэр>: <хувьсагчийн төрөл> = <анхны утга>`

```ts
const name: string
const height: number = 199
```
### Primitive types
Typescript-ийн үндсэн төрөлд `number`, `string`, `boolean` ордог. Эдгээрийг **primitive types** гэх бөгөөд зөвхөн нэг л төрлийн мэдээлэл хадгалдаг.

#### Number
Энэ төрөл бүхэл болон бутархай бүх тоон утгыг илэрхийлдэг
```js
const a: number = 25
```

#### String
Javascript-ийн адилаар үг үсэг тэмдэгтүүдийг агуулдаг төрөл. 


#### Boolean
Javascript-тэй ижил. Үнэн худал гэсэн төлөвийг заадаг төрөл. 


### Array
Нэг төрлийн олон утгуудыг илэрхийлэх төрөл. Доорхи 2 бичиглэл ижил.
```ts
const names: string[]
// or
const names: Array<string>
```


### Object
Хэд хэдэн төрлийн мэдээллийг нэгтгэж дамжуулахад `object` төрлийг ашигладаг. Үүнийг тодорхойлохдоо төрлийнхөө нэрийн өмнө `interface` гэсэн түлхүүр үгийг бичнэ. 
```ts
// Төрөл тодорхойлолт
interface Person {
  name: string;
  age: number;
}

// Object төрөлтэй анхны утгатай хувьсагч зарлах
const person: Person = {
  name: "Baabar"
  age: 60
}

// Хэрэглээ
console.log(person.age) // 60
```

### Any
Хувьсагчийн төрлийг яг тодорхой заах боломжгүй эсвэл шаардлагагүй үед энэ төрлийг оноож өгч болно. Тypescript `any` төрлийн хувьсагчтай холбоотой үйлдүүд дээр шалгалт хийхгүй. 
```ts
let myvar: any = { x: 0 };
// Доорхи бүх бичиглэлд typescript алдаа заахгүй
myvar.foo();
myvar();
myvar.bar = 100;
myvar = "hello";
const n: number = myvar;
```
Анхааруулахад, `any` төрлийг түгээмээл ашиглах нь typescript-ийн өөрийнх нь үндсэн зарчмийн эсрэг учир зөвхөн шаардлагатай үед л ашиглах хэрэгтэй.

## Union type
Typescript-д босоо зураасан тэмдэглэгээг ашиглан хэдэн хэдэн төрлийн утга авч болох хувьсагчийг зарлаж болдог. Жишээ нь: 
```ts
let address: number | string
// Доорхи 2 бичиглэл хүчинтэй
address = 105
address = "hundred five"
// Харин өөр төрлийн утга оноосон бичиглэлд алдаа заана
address = true // Error not assignable
```

## Type alias
Нэг болон хэд хэдэн төрлүүдийг нэгтгэн зохиомол шинэ нэршил бүхий төрөл үүсгэж болдог.
```ts
type MyCleanString = string
const name: MyCleanString = "Newton"

type ID = number | string;
const myid: ID = "988777655"

type Rectangle = {
  width: number
  height: number
}
const square = { width: 10, height: 10 }
```

## Interface
Обьект төрлийг **interface** байдлаар зарладаг ба энэ талаар дээр товч дурьдсан. Бусад обьект хандалтад програмчлын хэлүүднээс ялгаатай нь хэдийгээр өөр өөр обьект төрөлтэй ч ижил бүтэцтэй мэдээлэл агуулж байгаа бол тэдгээр хувьсагчдын хооронд утга оноох боломжтой. Жишээ нь:

```ts
interface Tseg {
  x: number
  y: number
}

interface Dot {
  x: number
  y: number
}

let tseg: Tseg = {
  x: 20,
  y: -10
}

let dot: Dot = {
  x: 20,
  y: -10
}

// Бусад хэлэнд доорхи 2 бичиглэл алдаа заана
// Учир нь тусдаа зарлагдсан л бол өөр төрөл гэж үздэг
// Харин typescript-д доторх бүтэц нь л таарч байвал оноож болно
tseg = dot
tseg = {
  x: 100,
  y: 200,
}
```
### Type, Interface 2-ийн ялгаа
Обьект төрлийг **type alias** эсвэл **interface** түлхүүр үг ашиглан зарлаж болох ба ажиллагааны хувьд хоёулаа адилхан. Гэхдээ зарим тохиолдуудад ялгаа гардаг. 

### Ялгаа 1: Удамшуулахад
**Interface**-ийг `extends` бичиглэл ашиглаж өргөтгөж болох бол **type alias**-аар зарласан төрлийг удамшуулж болдоггүй. 

```ts
interface Animal {
  name: string
}

interface Bear extends Animal {
  honey: boolean
}

const bear = getBear() 
bear.name
bear.honey
```

### Ялгаа 2: Засварлахад
Өмнө зарласан **Interface**-ийг дахин адилхан нэрээр зарлаж өргөтгөж болдог бол **type alias**-аар зарласан төрлийг болдоггүй.

```ts
interface Door {
  title: string
}

interface Door {
  size: number
}
```
`type alias`-ийн хувьд ийм үйлдэл дээр compiler алдаа заана
```ts
type Door = {
  title: string
}

// Error: Duplicate identifier 'Door'.
type Door = {
  size: number
}
```

## Type assertions
Хувьсагчийн төрлийг дахин тодотгоход `as` түлхүүр үгийг ашигладаг.  өөр агуулж байгаа утгад нь харгалзах ижил бүтэцтэй  Хувьсагчийн төрлийг дахин тодорхойлох, 
Api эсвэл өөр external library-ийн функцаас буцаасан утгын төрлийг compiler-т тодруулж өгөхөд 

```ts
const variable = callFunctionFromLibraryOrExternalApi()
const name: string = variable as string
```



## Literal types
Хувьсагчийг зарлахдаа төрлийнх нь оронд тодорхой заасан утгуудыг тавьж өгч болдог. Ингэснээр хувьсагчид эдгээр утгыг л оноож болох ба өөр утга оноох гэж оролдвол compiler алдаа заадаг. 

```ts
function printText(alignment: "left" | "right" | "center") {
  // ...
}
printText("left");
// Error Argument of type '"centre"' is not assignable
// to parameter of type '"left" | "right" | "center"'.
printText("centre"); 
```

## null and undefined
Javascript-тэй адилаар хоосон утгыг `null` утга оноогоогүй төлөвийг `undefined` аар тэмдэглэдэг. Хувьсагчийн нэрний араас `!` нэмсэнээр утга нь `null` эсвэл `undefined` эсэхийг typescript compiler автоматаар шалгадаг.
```ts
let variable: string | null
variable = null
console.log(variable!.toLowerCase() // No error, just prints undefined
```


